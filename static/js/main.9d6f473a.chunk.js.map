{"version":3,"sources":["EditBook.js","BookInfo.js","Book.js","BooksContainer.js","AddBook.js","App.js","index.js"],"names":["EditBook","props","Fragment","className","onSubmit","e","preventDefault","editFormSubmit","type","name","required","defaultValue","bookInfo","title","author","minLength","maxLength","pages","value","BookInfo","id","onClick","editBook","editScreen","deleteBook","Book","showInfo","setState","state","isRead","this","style","backgroundImage","cover","changeReadStatus","backgroundColor","React","Component","BooksContainer","books","library","map","book","index","bind","key","AddBook","inputHandler","target","baseState","val","addBook","submitForm","htmlFor","error","onChange","placeholder","App","newLib","i","localStorage","setItem","JSON","stringify","parse","getItem","response","length","fetch","googleBooks","then","data","json","result","items","volumeInfo","find","setTimeout","authors","toString","pageCount","imageLinks","thumbnail","catch","console","log","filter","sort","a","b","ReactDom","render","document","getElementById"],"mappings":"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","file":"static/js/main.9d6f473a.chunk.js","sourcesContent":["import React from 'react';\n\nexport default function EditBook(props) {\n  function editFormSubmit(e) {\n    e.preventDefault();\n    props.editFormSubmit(e);\n  }\n  return (\n    <React.Fragment>\n      <form className=\"edit-form\" onSubmit={editFormSubmit}>\n        <input\n          type=\"text\"\n          name=\"title\"\n          required\n          defaultValue={props.bookInfo.title}\n        ></input>\n        <input\n          type=\"text\"\n          name=\"author\"\n          required\n          defaultValue={props.bookInfo.author}\n        ></input>\n        <input\n          type=\"text\"\n          name=\"pages\"\n          minLength=\"1\"\n          maxLength=\"5\"\n          required\n          defaultValue={props.bookInfo.pages}\n        ></input>\n        <input type=\"submit\" value=\"Save\"></input>\n      </form>\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport EditBook from './EditBook';\n\nexport default function BookInfo(props) {\n  return (\n    <div className=\"book-info\">\n      <button id=\"edit-button\" onClick={props.editBook}>\n        Edit\n      </button>\n      {props.editScreen && (\n        <EditBook\n          editFormSubmit={props.editFormSubmit}\n          bookInfo={props.bookInfo}\n        />\n      )}\n      <h3>{props.bookInfo.title}</h3>\n      <h3>by {props.bookInfo.author}</h3>\n      <h3>Pages:{props.bookInfo.pages}</h3>\n      <div className=\"delete-div\">\n        <i onClick={props.deleteBook}>x</i>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport BookInfo from './BookInfo';\n\nexport default class Book extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showInfo: false,\n      editScreen: false,\n    };\n  }\n  showInfo = () => {\n    this.setState({\n      showInfo: !this.state.showInfo,\n    });\n  };\n  editScreen = () => {\n    this.setState({\n      editScreen: !this.state.editScreen,\n    });\n  };\n  editFormSubmit = (e) => {\n    this.editScreen();\n    this.props.editFormSubmit(e);\n  };\n  render() {\n    const isRead = this.props.bookInfo.isRead;\n    return (\n      <div className=\"book\">\n        <div\n          className=\"book-cover\"\n          style={{ backgroundImage: `url(${this.props.bookInfo.cover})` }}\n        >\n          {this.state.showInfo && (\n            <BookInfo\n              editFormSubmit={this.editFormSubmit}\n              editScreen={this.state.editScreen}\n              editBook={this.editScreen}\n              deleteBook={this.props.deleteBook}\n              bookInfo={this.props.bookInfo}\n            />\n          )}\n        </div>\n        <div className=\"button-group\">\n          <button onClick={this.showInfo} id=\"info-button\">\n            i\n          </button>\n          <button\n            onClick={this.props.changeReadStatus}\n            id=\"read-button\"\n            style={{\n              backgroundColor: isRead ? 'darkorange' : 'darkgrey',\n            }}\n          >\n            {isRead ? 'Read' : 'Not Read'}\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Book from './Book';\n\n\nexport default function BooksContainer(props) {\n  const books = props.library.map((book, index) => {\n    return (\n      <Book\n        editFormSubmit = {props.editFormSubmit.bind(this,index)}\n        bookInfo={book}\n        key={index}\n        deleteBook = {props.deleteBook.bind(this,index)}\n        changeReadStatus={props.changeReadStatus.bind(this, index)}\n      />\n    );\n  });\n\n  return (\n      <div className=\"container\">{books}</div>\n  )\n}\n","import React from 'react';\n\nexport default class AddBook extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n    };\n    this.baseState = this.state;\n    this.val = this.state.value;\n  }\n  \n  submitForm (e) {\n    e.preventDefault();\n    this.props.addBook(this.state.value);\n    this.setState({\n      value: this.baseState.value\n    })\n  }\n  inputHandler = (e) => {\n    this.setState({\n      value: e.target.value,\n    });\n  };\n  render() {\n    return (\n      <form id=\"new-book-form\" onSubmit={this.submitForm.bind(this)}>\n        <label htmlFor=\"newBook\">{this.props.error} </label>\n        <div className=\"new-book-input\">\n          <input\n            id=\"newBook\"\n            type=\"text\"\n            name=\"newBook\"\n            value={this.state.value}\n            onChange={this.inputHandler}\n            placeholder=\"Enter book's full title\"\n          />\n          <input type=\"submit\" name=\"newBook\" value=\"Add\" />\n        </div>\n      </form>\n    );\n  }\n}\n","import React from 'react';\nimport './App.scss';\nimport BooksContainer from './BooksContainer';\nimport AddBook from './AddBook';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.googleBooks = 'AIzaSyAESFTdUf9THRX481gN1QQVo-kekK_471k';\n    console.log(JSON.parse(localStorage.getItem('library')));\n    this.state = {\n\n      library: localStorage.getItem('library') ? JSON.parse(localStorage.getItem(\"library\")).sort((a, b) => {\n        return a.isRead - b.isRead;\n      }) : [\n        {\n          isRead: false,\n          title: 'Learning React',\n          author: 'Alex Banks, Eve Porcello',\n          pages: '350',\n          cover:\n            'http://books.google.com/books/content?id=ycTADgAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api',\n        },\n        {\n          isRead: true,\n          title: 'Vue.js Programming by Example',\n          author: 'Agus Kurniawan',\n          pages: '200',\n          cover:\n            'http://books.google.com/books/content?id=JDw8DwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api',\n        },\n      ],\n      error: '',\n    };\n    localStorage.setItem('library',JSON.stringify(this.state.library))\n    console.log(JSON.parse(localStorage.getItem(\"library\")))\n  }\n  editFormSubmit = (index, e) => {\n    let newLib = this.state.library.map((book, i) => {\n      if (index === i) {\n        book.title = e.target.title.value;\n        book.author = e.target.author.value;\n        book.pages = e.target.pages.value;\n      }\n      return book;\n    });\n    localStorage.setItem('library',JSON.stringify(newLib));\n    this.setState({\n      library: [...JSON.parse(localStorage.getItem(\"library\"))],\n    });\n  };\n\n  addBook = (val) => {\n    let response;\n    if (val.length >= 3) {\n      fetch(\n        `https://www.googleapis.com/books/v1/volumes?&fields=items(volumeInfo(title,authors,pageCount,imageLinks(thumbnail)))&q=${val}&maxResults=1&key=${this.googleBooks}`\n      )\n        .then((data) => {\n          data.json().then((result) => {\n            response = result.items[0].volumeInfo;\n            if (\n              !this.state.library.find((book) => {\n                return book.title === response.title;\n              })\n            ) {\n              localStorage.setItem(\"library\",JSON.stringify([\n                {\n                  isRead: false,\n                  title: response.title,\n                  author: response.authors\n                    ? response.authors.toString()\n                    : 'unknown',\n                  pages: response.pageCount ? response.pageCount : 'unknown',\n                  cover: response.imageLinks.thumbnail,\n                },\n                ...this.state.library,\n              ]));\n              this.setState({\n                library:JSON.parse(localStorage.getItem('library')),\n                error: '',\n              });\n            } else {\n              this.setState({\n                error: 'You already added this book',\n              });\n              setTimeout(() => {\n                this.setState({\n                  error: '',\n                });\n              }, 3000);\n            }\n          });\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  };\n  deleteBook = (index) => {\n    console.log(index);\n    localStorage.setItem(\"library\",JSON.stringify([\n      ...this.state.library.filter((book, i) => {\n        return index !== i;\n      }),\n    ]));\n    this.setState({\n      library:JSON.parse(localStorage.getItem(\"library\")),\n    });\n  };\n  changeReadStatus = (index) => {\n    let newLib = this.state.library.map((book, i) => {\n      if (index === i) {\n        book.isRead = !book.isRead;\n      }\n      return book;\n    });\n    localStorage.setItem(\"library\",JSON.stringify(newLib));\n    this.setState({\n      library: [\n        ...JSON.parse(localStorage.getItem(\"library\")).sort((a, b) => {\n          return a.isRead - b.isRead;\n        }),\n      ],\n    });\n  };\n  render() {\n    return (\n      <div className=\"App\">\n        <h1>Library</h1>\n        <AddBook error={this.state.error} addBook={this.addBook} />\n        <BooksContainer\n          editFormSubmit={this.editFormSubmit}\n          changeReadStatus={this.changeReadStatus}\n          library={this.state.library}\n          deleteBook={this.deleteBook}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport App from './App';\n\nReactDom.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}